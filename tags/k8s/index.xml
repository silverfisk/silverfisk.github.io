<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>K8s on linux-konsult.com</title><link>https://linux-konsult.com/tags/k8s/</link><description>Recent content in K8s on linux-konsult.com</description><generator>Hugo</generator><language>en</language><lastBuildDate>Sat, 25 Jan 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://linux-konsult.com/tags/k8s/index.xml" rel="self" type="application/rss+xml"/><item><title>Kubernetes: The API-Driven Platform for Linux Engineers</title><link>https://linux-konsult.com/posts/k8s/linux_to_k8s/</link><pubDate>Sat, 25 Jan 2025 00:00:00 +0000</pubDate><guid>https://linux-konsult.com/posts/k8s/linux_to_k8s/</guid><description>&lt;h1 id="from-linux-to-kubernetes-from-files-to-apis">
 From Linux to Kubernetes: From Files to APIs
 &lt;a class="heading-link" href="#from-linux-to-kubernetes-from-files-to-apis">
 &lt;i class="fa-solid fa-link" aria-hidden="true" title="Link to heading">&lt;/i>
 &lt;span class="sr-only">Link to heading&lt;/span>
 &lt;/a>
&lt;/h1>
&lt;h2 id="1-introduction-bridging-the-gap">
 1. Introduction: Bridging the Gap
 &lt;a class="heading-link" href="#1-introduction-bridging-the-gap">
 &lt;i class="fa-solid fa-link" aria-hidden="true" title="Link to heading">&lt;/i>
 &lt;span class="sr-only">Link to heading&lt;/span>
 &lt;/a>
&lt;/h2>
&lt;p>For veteran Linux engineers, a core principle that drives much of Linux’s simplicity is &lt;a href="https://en.wikipedia.org/wiki/Everything_is_a_file" class="external-link" target="_blank" rel="noopener">&lt;strong>“everything is a file.”&lt;/strong>&lt;/a> Devices, processes, network interfaces, and more all appear as files or directories, making them easy to inspect and manipulate. In contrast, Kubernetes takes a similarly unifying approach but with an &lt;strong>API-driven&lt;/strong> model, enabling declarative management of infrastructure at scale.&lt;/p></description></item><item><title>Fluent Bit: Isolating pod logs in a multitenant EKS cluster</title><link>https://linux-konsult.com/posts/observability/fluent-bit/</link><pubDate>Wed, 07 Dec 2022 22:00:07 +0200</pubDate><guid>https://linux-konsult.com/posts/observability/fluent-bit/</guid><description>&lt;h1 id="overview">
 Overview
 &lt;a class="heading-link" href="#overview">
 &lt;i class="fa-solid fa-link" aria-hidden="true" title="Link to heading">&lt;/i>
 &lt;span class="sr-only">Link to heading&lt;/span>
 &lt;/a>
&lt;/h1>
&lt;hr>
&lt;p>In this post, we discuss how to isolate log access in a multitenant AWS EKS cluster between tenants. This solution is intended for those who need to give customer team members access to their own microservice log output without replicating the log storage out to other logging solutions or out of the AWS account to minimize the risk of data leakage.&lt;/p></description></item><item><title>When to extend a helm chart and when to use a subchart</title><link>https://linux-konsult.com/posts/k8s/helm_subcharts/</link><pubDate>Fri, 02 Dec 2022 09:36:00 +0200</pubDate><guid>https://linux-konsult.com/posts/k8s/helm_subcharts/</guid><description>&lt;h2 id="overview">
 Overview
 &lt;a class="heading-link" href="#overview">
 &lt;i class="fa-solid fa-link" aria-hidden="true" title="Link to heading">&lt;/i>
 &lt;span class="sr-only">Link to heading&lt;/span>
 &lt;/a>
&lt;/h2>
&lt;hr>
&lt;p>A Helm chart is a package of Kubernetes resources that can be managed and deployed as a unit. It is defined using YAML files and follows a specific directory structure, with a Chart.yaml file that contains metadata about the chart, and one or more templates that define the resources to be deployed. Helm charts can be used to deploy applications, services, or infrastructure on Kubernetes clusters.&lt;/p></description></item><item><title>Let karpenters just-in-time scheduler manage disk pressure</title><link>https://linux-konsult.com/posts/k8s/karpenter/</link><pubDate>Thu, 27 Oct 2022 14:30:00 +0200</pubDate><guid>https://linux-konsult.com/posts/k8s/karpenter/</guid><description>&lt;h2 id="overview">
 Overview
 &lt;a class="heading-link" href="#overview">
 &lt;i class="fa-solid fa-link" aria-hidden="true" title="Link to heading">&lt;/i>
 &lt;span class="sr-only">Link to heading&lt;/span>
 &lt;/a>
&lt;/h2>
&lt;hr>
&lt;p>Capacity planning in Kubernetes can be challenging.
Karpenter is useful for automatically rightscaling and rightsizing Kubernetes nodes in an EKS cluster, but it usually only considers CPU and memory usage. We experienced difficulties troubleshooting this issue because the node storage was not full at the time we checked it. The disk usage would spike to almost capacity (98-99%) during the execution of GitLab CI jobs, then decrease after the job was completed. This made it difficult to identify the cause of the issue.&lt;/p></description></item><item><title>Install ArgoCD</title><link>https://linux-konsult.com/posts/k8s/argocd/</link><pubDate>Sun, 31 Jul 2022 10:00:00 +0200</pubDate><guid>https://linux-konsult.com/posts/k8s/argocd/</guid><description>&lt;h2 id="quick-install">
 Quick install
 &lt;a class="heading-link" href="#quick-install">
 &lt;i class="fa-solid fa-link" aria-hidden="true" title="Link to heading">&lt;/i>
 &lt;span class="sr-only">Link to heading&lt;/span>
 &lt;/a>
&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>mkdir -p ~/git/github.com/argoproj
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cd ~/git/github.com/argoproj
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kubectl create namespace argocd
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git clone https://github.com/argoproj/argo-cd.git
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kubectl apply --namespace argocd -f ~/git/github.com/argoproj/argo-cd/manifests/install.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="access-argocd">
 Access ArgoCD
 &lt;a class="heading-link" href="#access-argocd">
 &lt;i class="fa-solid fa-link" aria-hidden="true" title="Link to heading">&lt;/i>
 &lt;span class="sr-only">Link to heading&lt;/span>
 &lt;/a>
&lt;/h2>
&lt;p>To access ArgoCD you port forward as below. The installation process automatically creates an &lt;code>admin&lt;/code> user. You&amp;rsquo;ll see the generated password below.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>echo &lt;span style="color:#a5d6ff">&amp;#34;argocd password: &lt;/span>&lt;span style="color:#ff7b72">$(&lt;/span>kubectl -n argocd get secret argocd-initial-admin-secret -ojson | jq -r .data.password| base64 -d&lt;span style="color:#ff7b72">)&lt;/span>&lt;span style="color:#a5d6ff">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>kubectl port-forward svc/argocd-server -n argocd 8080:443
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Kubernetes with k3s on Raspberry Pi 4</title><link>https://linux-konsult.com/posts/k8s/rpi4-k3s/</link><pubDate>Sat, 30 Jul 2022 13:00:00 +0200</pubDate><guid>https://linux-konsult.com/posts/k8s/rpi4-k3s/</guid><description>&lt;p>Disk intensive applications such as kubernetes can run on Raspberry Pi 4, but you need to &lt;a href="https://linux-konsult.com/posts/rpi/rpi4-ssd/" class="external-link" target="_blank" rel="noopener">migrate from the SD card to an SSD drive&lt;/a>.
Trust me, you don&amp;rsquo;t want to run this from your SD card. I tried&amp;hellip;&lt;/p>
&lt;p>Warning: I have noted down the steps taken, there may be some additional steps you need to take to get everything working. If so let me now through &lt;a href="https://github.com/silverfisk/silverfisk.github.io/blob/main/content/posts/k8s/rpi4-k3s.md" class="external-link" target="_blank" rel="noopener">GitHub&lt;/a>&lt;/p>
&lt;h2 id="preparations">
 Preparations
 &lt;a class="heading-link" href="#preparations">
 &lt;i class="fa-solid fa-link" aria-hidden="true" title="Link to heading">&lt;/i>
 &lt;span class="sr-only">Link to heading&lt;/span>
 &lt;/a>
&lt;/h2>
&lt;p>K3S networking does not work with nftables, so switch to legacy iptables:&lt;/p></description></item></channel></rss>